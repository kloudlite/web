import { useState } from 'react';
import Container from '~/app/components/container';
import HorizontalTopTabDevops from '~/app/components/website/horizontal-top-tab-devops';
import Discover from '~/app/components/website/discover-component';
import ReadyToOps from '~/app/components/website/ready-to-ops';
import EmbeddedData from '../public/embedded-data.svg';
import TroubleFree from '../public/trouble-free.svg';
import SeamlessDev from '../public/seamless-dev.svg';
import FasterDev from '../public/faster-dev.svg';
import ConfigDevops from '../public/devops/config-devops.svg';
import CreateDevops from '../public/devops/create-project-devops.svg';
import DeployDevops from '../public/devops/deploy-devops.svg';
import SetupDevops from '../public/devops/setup-devops.svg';
import GetStarted from '~/app/components/website/get-started';
import SuccessStories from '~/app/components/website/success-stories';
import Cover from '../public/devops/cover-devops.svg';
import {
  successStories,
} from '~/app/utils/dummy-data';
import consts from "~/app/utils/const"

import { Button } from 'kl-design-system/atoms/button';
import Chips from 'kl-design-system/atoms/chips';

export const AdvantageSection = () => {
  const [selectedTab, setSelectedTab] = useState(consts.devops.advantages[0].id);

  const getTab = () => {
    switch (selectedTab) {
      case 'trouble-free':
        return (
          <img
            alt="trouble-fre"
            src={TroubleFree}
            className="h-full w-full object-cover"
          />
        );
      case 'embedded-data':
        return (
          <img
            alt="embedded-data"
            src={EmbeddedData}
            className="h-full w-full object-cover"
          />
        );
      case 'seamless-env':
        return (
          <img
            alt="seamless-env"
            src={SeamlessDev}
            className="h-full w-full object-cover"
          />
        );
      case 'faster-dev':
      default:
        return (
          <img
            alt="faster-dev"
            src={FasterDev}
            className="h-full w-full object-cover"
          />
        );
    }
  };

  return (
    <HorizontalTopTabDevops
      tabContainerClassName="grid grid-cols-4 gap-5xl pt-10xl px-10xl"
      tabs={consts.devops.advantages}
      onTabChange={(item) => setSelectedTab(item.id)}
      activeTab={selectedTab}
      tab={getTab()}
    />
  );
};

export const DiscoverSection = () => {
  return (
    <div className="flex flex-col 2xl:pt-10xl">
      <Discover 
        title={<>Discover <span className="text-text-primary">DevOps</span></>} 
        desc="Simplify software development and testing with automated environments, tools, and configurations"
        features={consts.devops.features} />
    </div>
  );
};

export const GetStartedSection = () => {
  const [selectedTab, setSelectedTab] = useState(consts.devops.getstarted[0].id);
  const getTab = () => {
    switch (selectedTab) {
      case 'config':
        return (
          <div className="relative h-full overflow-hidden">
            <img alt="config" src={ConfigDevops} />
          </div>
        );
      case 'deploy':
        return (
          <div className="relative h-full overflow-hidden">
            <img alt="deploy" src={DeployDevops} />
          </div>
        );
      case 'setup':
        return (
          <div className="relative h-full overflow-hidden flex items-center justify-center">
            <img alt="setup" src={SetupDevops} />
          </div>
        );
      case 'create':
      default:
        return (
          <div className="h-full flex items-center justify-center">
            <img alt="create" src={CreateDevops} />
          </div>
        );
    }
  };

  return (
    <GetStarted
      title="In 4 simple steps"
      tabs={consts.devops.getstarted}
      onTabChange={(item) => setSelectedTab(item.id)}
      tab={getTab()}
      activeTab={selectedTab}
    />
  );
};

export const SuccessStorySection = () => {
  return (
    <div className="flex flex-col 2xl:pt-10xl">
      <SuccessStories tabs={successStories} />
    </div>
  );
};

export default () => {
  return (
    <div>
        <Container className='relative'>
            <div className="flex flex-col 2xl:px-12xl z-10">
            <div className='absolute inset-0 distribution-cover-graph z-0'/>
                <div className="flex flex-row items-center gap-10xl 2xl:py-10xl z-10">
                    <div className="flex flex-col gap-6xl md:max-w-[630px]">
                        <div className="flex flex-col gap-3xl">
                        <Chips.Chip item="infraops" label="DevOps" />
                        <h1 className="heading6xl-marketing text-text-default">
                            NoOps in any stage of development
                        </h1>
                        <p className="bodyXl-medium text-text-soft">
                            Dev-Prod parity for developers, by developers: DevOps automation that redefines productivity
                        </p>
                        </div>
                        <div className="flex flex-row items-center gap-4xl">
                        <Button
                            content="Start your free trial"
                            variant="primary"
                            size="lg"
                        />
                        <Button content="Schedule a demo" variant="basic" size="lg" />
                        </div>
                    </div>
                    <div className='z-10'>
                        <img src={Cover} className='scale-[1.3]'/>
                    </div>
                </div>
            </div>
        </Container>
        <Container className="flex-col">
            <div className="flex flex-col 2xl:px-12xl">
                <AdvantageSection />
                <DiscoverSection />
                <GetStartedSection />
                <SuccessStorySection />
                <ReadyToOps />
            </div>
        </Container>
    </div>
  );
};
