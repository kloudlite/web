import Steps from "~/app/components/steps";

## 5 Steps to Get Started

<Steps>
### Attach Your Cluster
First, create a cluster reference in Kloudlite, then follow the steps to attach the cluster.
<img src="/attach-cluster-1.png" alt="" className="wb-p-3xl wb-mt-3xl wb-bg-white" />

<img src="/attach-cluster-2.png" alt="" className="wb-p-3xl wb-mt-3xl wb-bg-white" />
Follow the instructions to attach the cluster. Once connected it will be shown online.

Note: You need to have capability to run pods with NetAdmin capililities for this to work.

### Create an Environment
Create a new environment in Kloudlite by providing an environment name and the cluster 
reference. Once your environment is set up, deploy your applications, configure settings, 
and import resources into the environment.

<img src="/create-environment.png" alt="" className="wb-p-3xl wb-mt-3xl wb-bg-white" />

Once environment is created you can add configs, secrets, apps to it. You can also import 
managed resources of managed services.

### Setup Kloudlite CLI
Kloudlite CLI is a command line tool that allows you to interact with Kloudlite. It provides a set of commands to manage clusters, environments, and other resources.

Setup kloudlite cli. Follow the below instructions or click [here](https://github.com/kloudlite/kl).
```bash
# Prerequisites:
docker run

# Install latest with curl
curl 'https://kl.kloudlite.io/kloudlite/kl!?select=kl' | bash

# Install latest with wget
wget -qO- 'https://kl.kloudlite.io/kloudlite/kl!?select=kl' | bash

# Install specific version
curl 'https://kl.kloudlite.io/kloudlite/kl@v1.0.0!?select=kl' | bash
```

Authentication:
```bash
# Login to Kloudlite
kl auth login

# Logout from Kloudlite
kl auth logout

# Status of Kloudlite authentication
kl auth status
```

### Set Up Your Local Machine
Once enviroment is created you can set up your local machine to connect to the environment 
using the Kloudlite CLI.

Choose your workspace directory and create a `kl.yaml` file with the following command:
```bash
kl init
```

You will be prompted to select the environment you want to connect to. Once selected, a `kl.yaml` file with the environment details will be created.

Next, import the necessary configs, secrets, and resources. You can also create config mounts. Use the following commands:

```bash
# Add config to your local workspace
kl add config

# Add secret to your local workspace
kl add secret

# Add resource to your local workspace
kl add mres

# Add config mount to your local workspace
kl mount config

# Add secret mount to your local workspace
kl mount secret
```

Add necessary packages to the local container using the command:

```bash
kl add package <package-name>
```

### Access & Intercept!

Now we can start the development container using the following command:

```bash
kl box ssh
```

This command creates a development container and mounts your codebase to it. The container will include all necessary configs, secrets, resources, and packages. You can now start developing your application.

The container runs an SSH service. You can also attach your IDEs like VSCode or IntelliJ to the container and start developing your application.

Note: The running container is already connected to the environment using wireguard. DNS is also configured
to resolve the domains of the services in the environment.

As you are in same network now you can access the apps running in the environment using their name. 

You can also intercept the traffic of the apps running in the environment using the following command:

```bash
kl intercept start -p <remote-port>:<local-port>
```

Now all the traffic to the remote application running in the environment will be 
intercepted and redirected to the local port. You can also use the following command to stop the interception:

```bash
kl intercept stop
```

</Steps>


<div className="wb-p-3xl wb-mt-3xl" />
