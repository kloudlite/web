import{j as T,a as We}from"./jsx-runtime-29545a09.js";import{a as H,f as L,_ as E,g as C,b as Y,j as ze,c as fe,$ as ae,d as Ue,i as je}from"./index-8271c066.js";import{r as n}from"./index-76fb7be0.js";import{$ as Ge}from"./index-9303ff2d.js";import{$ as Ve}from"./index-d3597871.js";import{u as qe,a as Ke,o as Xe,s as Ye,l as Ze,f as Je,b as Qe,c as et,h as tt}from"./floating-ui.react-dom-7fbf629f.js";import{$ as ot}from"./index-2a7aefac.js";import{R as nt}from"./index-d3ea75b5.js";import{$ as pe}from"./index-2c2e1a29.js";import{A as rt}from"./index-add589df.js";import{m as at}from"./motion-e61dcc0d.js";import{B as st}from"./button-30fb7d7d.js";import"./_commonjsHelpers-de833af9.js";import"./use-force-update-d6d40804.js";import"./utils-e72801fa.js";import"./index-e131923d.js";import"./Spinner-6e10423b.js";import"./context-494caab9.js";const V="dismissableLayer.update",it="dismissableLayer.pointerDownOutside",ct="dismissableLayer.focusOutside";let se;const lt=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dt=n.forwardRef((e,o)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:u,onDismiss:c,...p}=e,l=n.useContext(lt),[d,b]=n.useState(null),f=(t=d==null?void 0:d.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,v]=n.useState({}),g=H(o,h=>b(h)),$=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),m=$.indexOf(y),x=d?$.indexOf(d):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,P=x>=m,O=ut(h=>{const D=h.target,N=[...l.branches].some(S=>S.contains(D));!P||N||(s==null||s(h),u==null||u(h),h.defaultPrevented||c==null||c())},f),_=ft(h=>{const D=h.target;[...l.branches].some(S=>S.contains(D))||(i==null||i(h),u==null||u(h),h.defaultPrevented||c==null||c())},f);return Ge(h=>{x===l.layers.size-1&&(a==null||a(h),!h.defaultPrevented&&c&&(h.preventDefault(),c()))},f),n.useEffect(()=>{if(d)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(se=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),ie(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=se)}},[d,f,r,l]),n.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),ie())},[d,l]),n.useEffect(()=>{const h=()=>v({});return document.addEventListener(V,h),()=>document.removeEventListener(V,h)},[]),n.createElement(L.div,E({},p,{ref:g,style:{pointerEvents:w?P?"auto":"none":void 0,...e.style},onFocusCapture:C(e.onFocusCapture,_.onFocusCapture),onBlurCapture:C(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:C(e.onPointerDownCapture,O.onPointerDownCapture)}))});function ut(e,o=globalThis==null?void 0:globalThis.document){const t=Y(e),r=n.useRef(!1),a=n.useRef(()=>{});return n.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let p=function(){$e(it,t,c,{discrete:!0})};const c={originalEvent:u};u.pointerType==="touch"?(o.removeEventListener("click",a.current),a.current=p,o.addEventListener("click",a.current,{once:!0})):p()}else o.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{o.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),o.removeEventListener("pointerdown",s),o.removeEventListener("click",a.current)}},[o,t]),{onPointerDownCapture:()=>r.current=!0}}function ft(e,o=globalThis==null?void 0:globalThis.document){const t=Y(e),r=n.useRef(!1);return n.useEffect(()=>{const a=s=>{s.target&&!r.current&&$e(ct,t,{originalEvent:s},{discrete:!1})};return o.addEventListener("focusin",a),()=>o.removeEventListener("focusin",a)},[o,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ie(){const e=new CustomEvent(V);document.dispatchEvent(e)}function $e(e,o,t,{discrete:r}){const a=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});o&&a.addEventListener(e,o,{once:!0}),r?ze(a,s):a.dispatchEvent(s)}const ve="Popper",[he,me]=fe(ve),[pt,be]=he(ve),$t=e=>{const{__scopePopper:o,children:t}=e,[r,a]=n.useState(null);return n.createElement(pt,{scope:o,anchor:r,onAnchorChange:a},t)},vt="PopperAnchor",ht=n.forwardRef((e,o)=>{const{__scopePopper:t,virtualRef:r,...a}=e,s=be(vt,t),i=n.useRef(null),u=H(o,i);return n.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.createElement(L.div,E({},a,{ref:u}))}),ge="PopperContent",[mt,mo]=he(ge),bt=n.forwardRef((e,o)=>{var t,r,a,s,i,u,c,p;const{__scopePopper:l,side:d="bottom",sideOffset:b=0,align:f="center",alignOffset:v=0,arrowPadding:g=0,avoidCollisions:$=!0,collisionBoundary:y=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:P="optimized",onPlaced:O,..._}=e,h=be(ge,l),[D,N]=n.useState(null),S=H(o,I=>N(I)),[G,Pe]=n.useState(null),R=ot(G),Ce=(t=R==null?void 0:R.width)!==null&&t!==void 0?t:0,ee=(r=R==null?void 0:R.height)!==null&&r!==void 0?r:0,Te=d+(f!=="center"?"-"+f:""),_e=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},te=Array.isArray(y)?y:[y],De=te.length>0,F={padding:_e,boundary:te.filter(gt),altBoundary:De},{refs:Oe,floatingStyles:oe,placement:Re,isPositioned:B,middlewareData:A}=qe({strategy:"fixed",placement:Te,whileElementsMounted:(...I)=>Ke(...I,{animationFrame:P==="always"}),elements:{reference:h.anchor},middleware:[Xe({mainAxis:b+ee,alignmentAxis:v}),$&&Ye({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?Ze():void 0,...F}),$&&Je({...F}),Qe({...F,apply:({elements:I,rects:re,availableWidth:Me,availableHeight:Ne})=>{const{width:Fe,height:Be}=re.reference,z=I.floating.style;z.setProperty("--radix-popper-available-width",`${Me}px`),z.setProperty("--radix-popper-available-height",`${Ne}px`),z.setProperty("--radix-popper-anchor-width",`${Fe}px`),z.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),G&&et({element:G,padding:g}),yt({arrowWidth:Ce,arrowHeight:ee}),w&&tt({strategy:"referenceHidden",...F})]}),[ne,Ae]=ye(Re),W=Y(O);ae(()=>{B&&(W==null||W())},[B,W]);const Le=(a=A.arrow)===null||a===void 0?void 0:a.x,Se=(s=A.arrow)===null||s===void 0?void 0:s.y,Ie=((i=A.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[ke,He]=n.useState();return ae(()=>{D&&He(window.getComputedStyle(D).zIndex)},[D]),n.createElement("div",{ref:Oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:B?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(u=A.transformOrigin)===null||u===void 0?void 0:u.x,(c=A.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},n.createElement(mt,{scope:l,placedSide:ne,onArrowChange:Pe,arrowX:Le,arrowY:Se,shouldHideArrow:Ie},n.createElement(L.div,E({"data-side":ne,"data-align":Ae},_,{ref:S,style:{..._.style,animation:B?void 0:"none",opacity:(p=A.hide)!==null&&p!==void 0&&p.referenceHidden?0:void 0}}))))});function gt(e){return e!==null}const yt=e=>({name:"transformOrigin",options:e,fn(o){var t,r,a,s,i;const{placement:u,rects:c,middlewareData:p}=o,d=((t=p.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,b=d?0:e.arrowWidth,f=d?0:e.arrowHeight,[v,g]=ye(u),$={start:"0%",center:"50%",end:"100%"}[g],y=((r=(a=p.arrow)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0)+b/2,m=((s=(i=p.arrow)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0)+f/2;let x="",w="";return v==="bottom"?(x=d?$:`${y}px`,w=`${-f}px`):v==="top"?(x=d?$:`${y}px`,w=`${c.floating.height+f}px`):v==="right"?(x=`${-f}px`,w=d?$:`${m}px`):v==="left"&&(x=`${c.floating.width+f}px`,w=d?$:`${m}px`),{data:{x,y:w}}}});function ye(e){const[o,t="center"]=e.split("-");return[o,t]}const xt=$t,wt=ht,Et=bt,Pt=n.forwardRef((e,o)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...a}=e;return r?nt.createPortal(n.createElement(L.div,E({},a,{ref:o})),r):null}),Ct=n.forwardRef((e,o)=>n.createElement(L.span,E({},e,{ref:o,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),Tt=Ct,[j,bo]=fe("Tooltip",[me]),Z=me(),_t="TooltipProvider",Dt=700,q="tooltip.open",[Ot,J]=j(_t),xe=e=>{const{__scopeTooltip:o,delayDuration:t=Dt,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=e,[i,u]=n.useState(!0),c=n.useRef(!1),p=n.useRef(0);return n.useEffect(()=>{const l=p.current;return()=>window.clearTimeout(l)},[]),n.createElement(Ot,{scope:o,isOpenDelayed:i,delayDuration:t,onOpen:n.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[]),onClose:n.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:n.useCallback(l=>{c.current=l},[]),disableHoverableContent:a},s)},Q="Tooltip",[Rt,M]=j(Q),At=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:u}=e,c=J(Q,e.__scopeTooltip),p=Z(o),[l,d]=n.useState(null),b=Ve(),f=n.useRef(0),v=i??c.disableHoverableContent,g=u??c.delayDuration,$=n.useRef(!1),[y=!1,m]=Ue({prop:r,defaultProp:a,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(q))):c.onClose(),s==null||s(_)}}),x=n.useMemo(()=>y?$.current?"delayed-open":"instant-open":"closed",[y]),w=n.useCallback(()=>{window.clearTimeout(f.current),$.current=!1,m(!0)},[m]),P=n.useCallback(()=>{window.clearTimeout(f.current),m(!1)},[m]),O=n.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{$.current=!0,m(!0)},g)},[g,m]);return n.useEffect(()=>()=>window.clearTimeout(f.current),[]),n.createElement(xt,p,n.createElement(Rt,{scope:o,contentId:b,open:y,stateAttribute:x,trigger:l,onTriggerChange:d,onTriggerEnter:n.useCallback(()=>{c.isOpenDelayed?O():w()},[c.isOpenDelayed,O,w]),onTriggerLeave:n.useCallback(()=>{v?P():window.clearTimeout(f.current)},[P,v]),onOpen:w,onClose:P,disableHoverableContent:v},t))},ce="TooltipTrigger",Lt=n.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,a=M(ce,t),s=J(ce,t),i=Z(t),u=n.useRef(null),c=H(o,u,a.onTriggerChange),p=n.useRef(!1),l=n.useRef(!1),d=n.useCallback(()=>p.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),n.createElement(wt,E({asChild:!0},i),n.createElement(L.button,E({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},r,{ref:c,onPointerMove:C(e.onPointerMove,b=>{b.pointerType!=="touch"&&!l.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),l.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{a.onTriggerLeave(),l.current=!1}),onPointerDown:C(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:C(e.onFocus,()=>{p.current||a.onOpen()}),onBlur:C(e.onBlur,a.onClose),onClick:C(e.onClick,a.onClose)})))}),we="TooltipPortal",[St,It]=j(we,{forceMount:void 0}),kt=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:a}=e,s=M(we,o);return n.createElement(St,{scope:o,forceMount:t},n.createElement(pe,{present:t||s.open},n.createElement(Pt,{asChild:!0,container:a},r)))},k="TooltipContent",Ht=n.forwardRef((e,o)=>{const t=It(k,e.__scopeTooltip),{forceMount:r=t.forceMount,side:a="top",...s}=e,i=M(k,e.__scopeTooltip);return n.createElement(pe,{present:r||i.open},i.disableHoverableContent?n.createElement(Ee,E({side:a},s,{ref:o})):n.createElement(Mt,E({side:a},s,{ref:o})))}),Mt=n.forwardRef((e,o)=>{const t=M(k,e.__scopeTooltip),r=J(k,e.__scopeTooltip),a=n.useRef(null),s=H(o,a),[i,u]=n.useState(null),{trigger:c,onClose:p}=t,l=a.current,{onPointerInTransitChange:d}=r,b=n.useCallback(()=>{u(null),d(!1)},[d]),f=n.useCallback((v,g)=>{const $=v.currentTarget,y={x:v.clientX,y:v.clientY},m=Ft(y,$.getBoundingClientRect()),x=Bt(y,m),w=Wt(g.getBoundingClientRect()),P=Ut([...x,...w]);u(P),d(!0)},[d]);return n.useEffect(()=>()=>b(),[b]),n.useEffect(()=>{if(c&&l){const v=$=>f($,l),g=$=>f($,c);return c.addEventListener("pointerleave",v),l.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),l.removeEventListener("pointerleave",g)}}},[c,l,f,b]),n.useEffect(()=>{if(i){const v=g=>{const $=g.target,y={x:g.clientX,y:g.clientY},m=(c==null?void 0:c.contains($))||(l==null?void 0:l.contains($)),x=!zt(y,i);m?b():x&&(b(),p())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,l,i,p,b]),n.createElement(Ee,E({},e,{ref:s}))}),[Nt,go]=j(Q,{isInside:!1}),Ee=n.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...u}=e,c=M(k,t),p=Z(t),{onClose:l}=c;return n.useEffect(()=>(document.addEventListener(q,l),()=>document.removeEventListener(q,l)),[l]),n.useEffect(()=>{if(c.trigger){const d=b=>{const f=b.target;f!=null&&f.contains(c.trigger)&&l()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,l]),n.createElement(dt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:l},n.createElement(Et,E({"data-state":c.stateAttribute},p,u,{ref:o,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),n.createElement(je,null,r),n.createElement(Nt,{scope:t,isInside:!0},n.createElement(Tt,{id:c.contentId,role:"tooltip"},a||r))))});function Ft(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),a=Math.abs(o.right-e.x),s=Math.abs(o.left-e.x);switch(Math.min(t,r,a,s)){case s:return"left";case a:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Bt(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Wt(e){const{top:o,right:t,bottom:r,left:a}=e;return[{x:a,y:o},{x:t,y:o},{x:t,y:r},{x:a,y:r}]}function zt(e,o){const{x:t,y:r}=e;let a=!1;for(let s=0,i=o.length-1;s<o.length;i=s++){const u=o[s].x,c=o[s].y,p=o[i].x,l=o[i].y;c>r!=l>r&&t<(p-u)*(r-c)/(l-c)+u&&(a=!a)}return a}function Ut(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),jt(o)}function jt(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const a=e[r];for(;o.length>=2;){const s=o[o.length-1],i=o[o.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))o.pop();else break}o.push(a)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}const Gt=xe,Vt=At,qt=Lt,Kt=kt,Xt=Ht,K=({delayDuration:e=0,children:o})=>T(Gt,{delayDuration:e,children:o}),X=({children:e,content:o,open:t=!1,offset:r=5})=>{const[a,s]=n.useState(!1);return n.useEffect(()=>{s(t)},[t]),We(Vt,{open:a,onOpenChange:i=>{s(t||i)},children:[T(qt,{asChild:!0,children:e}),T(rt,{children:a&&T(Kt,{forceMount:!0,children:T(Xt,{asChild:!0,sideOffset:r,side:"right",align:"start",alignOffset:0,children:T(at.div,{onKeyDown:i=>console.log(i),initial:{y:-2,opacity:0},animate:{y:0,opacity:1},exit:{y:-2,opacity:0},transition:{duration:.3,ease:"anticipate"},className:"z-[99999999999] bodySm-default text-text-default px-lg py-md shadow-popover bg-surface-basic-default rounded max-w-[200px]",children:o})})})})]})},Yt={Root:X,Provider:K},Zt=Yt;try{K.displayName="Provider",K.__docgenInfo={description:"",displayName:"Provider",props:{delayDuration:{defaultValue:{value:"0"},description:"",name:"delayDuration",required:!1,type:{name:"number"}}}}}catch{}try{X.displayName="Root",X.__docgenInfo={description:"",displayName:"Root",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}},offset:{defaultValue:{value:"5"},description:"",name:"offset",required:!1,type:{name:"number"}}}}}catch{}const yo={title:"Atoms/Tooltip",component:Zt.Root,decorators:[e=>T(xe,{delayDuration:150,children:T(e,{})})],tags:["autodocs"],argTypes:{}},U={args:{content:"tooltip",children:T(st,{content:"tooltip"})}};var le,de,ue;U.parameters={...U.parameters,docs:{...(le=U.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    content: 'tooltip',
    children: <Button content="tooltip" />
  }
}`,...(ue=(de=U.parameters)==null?void 0:de.docs)==null?void 0:ue.source}}};const xo=["InitialAvatar"];export{U as InitialAvatar,xo as __namedExportsOrder,yo as default};
