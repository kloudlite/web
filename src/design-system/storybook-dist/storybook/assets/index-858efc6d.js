import{r as n}from"./index-76fb7be0.js";import{L as a}from"./motion-e61dcc0d.js";import{u as m}from"./use-force-update-d6d40804.js";const x=n.createContext(null),y=t=>!t.isLayoutDirty&&t.willUpdate(!1);function p(){const t=new Set,o=new WeakMap,r=()=>t.forEach(y);return{add:e=>{t.add(e),o.set(e,e.addEventListener("willUpdate",r))},remove:e=>{t.delete(e);const u=o.get(e);u&&(u(),o.delete(e)),r()},dirty:r}}const l=t=>t===!0,C=t=>l(t===!0)||t==="id",w=({children:t,id:o,inherit:r=!0})=>{const e=n.useContext(a),u=n.useContext(x),[d,i]=m(),s=n.useRef(null),c=e.id||u;s.current===null&&(C(r)&&c&&(o=o?c+"-"+o:c),s.current={id:o,group:l(r)&&e.group||p()});const f=n.useMemo(()=>({...s.current,forceRender:d}),[i]);return n.createElement(a.Provider,{value:f},t)};export{w as L};
